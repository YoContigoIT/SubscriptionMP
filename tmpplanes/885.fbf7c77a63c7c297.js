"use strict";(self.webpackChunksubscriptionMP=self.webpackChunksubscriptionMP||[]).push([[885],{885:(N,_,s)=>{s.r(_),s.d(_,{FormModule:()=>d});var g=s(6895),f=s(6881),c=s(5861),o=s(433),h=s(2340),b=s(5226),p=s.n(b),v=s(6805),C=s(2961),F=s(9808),e=s(4650),Z=s(8811),y=s(2468);function T(i,t){1&i&&e._UZ(0,"input",15)}function A(i,t){1&i&&e._UZ(0,"input",16)}function P(i,t){1&i&&e._UZ(0,"input",15)}function I(i,t){1&i&&e._UZ(0,"input",16)}function M(i,t){if(1&i){const n=e.EpF();e.TgZ(0,"div",17)(1,"form",18)(2,"label",3),e._uU(3,"Nombre del 2do Usuario"),e.qZA(),e.TgZ(4,"input",4),e.NdJ("change",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.verify(r.dataForm2.value))}),e.qZA(),e.TgZ(5,"label",3),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",5),e.TgZ(8,"label",3),e._uU(9,"Apellido"),e.qZA(),e._UZ(10,"input",6),e.TgZ(11,"div",7)(12,"label",3),e._uU(13,"Padece de alguna enfermedad"),e.qZA(),e.TgZ(14,"input",8),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.fnPad())}),e.qZA()(),e.TgZ(15,"p",9),e._uU(16,"Solo marcar si se tiene hipertensi\xf3n, diabetes, colesterol alto, problemas de ri\xf1\xf3n, anorexia, bulimia, diabetes, asma, hipo o hipertiroidismo, ovario poliqu\xedstico, problemas de ri\xf1\xf3n, s\xedndrome de colon irritable (tu plan debe ser 100% PERSONALIZADO)"),e.qZA(),e.YNc(17,P,1,0,"input",10),e.TgZ(18,"div",7)(19,"label",3),e._uU(20,"Lesiones"),e.qZA(),e.TgZ(21,"input",11),e.NdJ("click",function(){e.CHM(n);const r=e.oxw();return e.KtG(r.fnLes())}),e.qZA()(),e.TgZ(22,"p",9),e._uU(23," Si no estas dado de alta por tu m\xe9dico o aun tienes dolor o alguna lesi\xf3n permanente, es recomendable hacer el plan PREMIUM (Personalizado)' "),e.qZA(),e.YNc(24,I,1,0,"input",12),e.qZA()()}if(2&i){const n=e.oxw();e.xp6(1),e.Q6J("formGroup",n.dataForm2),e.xp6(3),e.s9C("value",n.dataForm2.value.user_name),e.xp6(10),e.Q6J("checked",n.id_pad),e.xp6(3),e.Q6J("ngIf",n.id_pad),e.xp6(4),e.Q6J("checked",n.id_les),e.xp6(3),e.Q6J("ngIf",1==n.id_les)}}class m{constructor(t,n,a,r,u){this.auth=t,this.data=n,this.formBuilder=a,this.activateRoute=r,this.router=u,this.paymentGatawayURI=h.N.paymentGatawayURI,this.id_les=!1,this.id_pad=!1,this.partner=!1,this.uid="",this.dataForm=this.formBuilder.group({user_name:["",o.kI.required],first_name:["",o.kI.required],last_name:["",o.kI.required],medical_conditions:[!1,o.kI.required],has_current_lesions:[!1,o.kI.required],previous_illness:["",o.kI.required],lesions:["",o.kI.required]}),this.dataForm2=this.formBuilder.group({user_name:["",o.kI.required],first_name:["",o.kI.required],last_name:["",o.kI.required],medical_conditions:[!1,o.kI.required],has_current_lesions:[!1,o.kI.required],previous_illness:["",o.kI.required],lesions:["",o.kI.required]})}ngOnInit(){var t=this;return(0,c.Z)(function*(){(yield function x(i,t){const n="object"==typeof t;return new Promise((a,r)=>{const u=new C.Hp({next:w=>{a(w),u.unsubscribe()},error:r,complete:()=>{n?a(t.defaultValue):r(new v.K)}});i.subscribe(u)})}(t.activateRoute.params)).reload||t.router.navigate(["form?relod=1"]),t.auth.user.subscribe(function(){var a=(0,c.Z)(function*(r){t.uid=r.uid,t.user=yield(0,F.n)(t.data.getAccount(r?.uid)),"PREMIUM_PARTNERS"==t.user?.current_subscription&&(t.partner=!0)});return function(r){return a.apply(this,arguments)}}())})()}fnPad(){this.id_pad=0==this.id_pad,1==this.id_pad&&"BASIC"==this.user.current_subscription&&p().fire({title:"Es necesario obtener una suscripci\xf3n Premium",text:"\xbfGustas que la cambiemos?",icon:"warning",showDenyButton:!0,denyButtonColor:"green",denyButtonText:"Whatsapp",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, por favor!"}).then(t=>{t.isConfirmed?("BASIC"==this.user.current_subscription&&this.data.changePlan({uid:this.uid,plan:"PREMIUM"}).subscribe(function(){var a=(0,c.Z)(function*(r){});return function(r){return a.apply(this,arguments)}}()),p().fire("Cambiado!","Tu suscripci\xf3n ahora es premium.","success")):t.isDenied?window.open("https://api.whatsapp.com/send?phone="+h.N.WhatsAppPhone+'&text="Me gustar\xeda me atendieran pues cuento con padecimientos de salud"'):this.id_pad=!1})}fnLes(){this.id_les=0==this.id_les,1==this.id_les&&"BASIC"==this.user.current_subscription&&p().fire({title:"Es necesario obtener una suscripci\xf3n Premium",text:"\xbfGustas que la cambiemos?",icon:"warning",showDenyButton:!0,denyButtonText:"Whatsapp",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, por favor!"}).then(t=>{t.isConfirmed?("BASIC"==this.user.current_subscription&&this.data.changePlan({uid:this.uid,plan:"PREMIUM"}).subscribe(function(){var a=(0,c.Z)(function*(r){});return function(r){return a.apply(this,arguments)}}()),p().fire("Cambiado!","Tu suscripci\xf3n ahora es premium.","success")):t.isDenied?window.open("https://api.whatsapp.com/send?phone="+h.N.WhatsAppPhone+'&text="Me gustar\xeda me atendieran pues cuento con padecimientos de salud"'):this.id_les=!1})}onSubmit(){const t={uid:this.uid,users:[this.dataForm.value]};this.partner&&t.users.push(this.dataForm2.value),this.data.registerAccountUser(t).subscribe(n=>{"success"===n.status?window.open(this.paymentGatawayURI+"/?uid="+t.uid,"_SELF"):window.open("https://www.befit4u.com.mx/planes","_SELF")},n=>{console.log("error:",n),this.router.navigate(["/"])})}verify(t){var n=this;this.data.verifyUser(t.user_name).subscribe(function(){var r=(0,c.Z)(function*(u){1==u.username_in_use&&(n.dataForm.value.user_name="",p().fire({icon:"error",title:"Lo sentimos, el nombre de usuario ya esta en uso",text:"Favor de cambiar el nombre de usuario"}))});return function(u){return r.apply(this,arguments)}}())}}m.\u0275fac=function(t){return new(t||m)(e.Y36(Z.zQ),e.Y36(y.D),e.Y36(o.qu),e.Y36(f.gz),e.Y36(f.F0))},m.\u0275cmp=e.Xpm({type:m,selectors:[["app-form"]],decls:29,vars:7,consts:[[1,"body"],[1,"form"],["action","",1,"elements_form",3,"formGroup"],["for",""],["type","text","placeholder","Usuario","formControlName","user_name",3,"value","change"],["type","text","placeholder","Nombre","formControlName","first_name"],["type","text","placeholder","Apellido","formControlName","last_name"],[1,"fila"],["type","checkbox","name","","id","","formControlName","medical_conditions",3,"checked","click"],[1,"leyenda"],["type","text","placeholder","\xbfCu\xe1les?","formControlName","previous_illness",4,"ngIf"],["type","checkbox","name","","id","","formControlName","has_current_lesions",3,"checked","click"],["type","text","placeholder","\xbfCu\xe1les?","formControlName","lesions",4,"ngIf"],["class","elements_form","style","margin-top: 30px;",4,"ngIf"],["type","button",1,"send",2,"margin-left","50px",3,"click"],["type","text","placeholder","\xbfCu\xe1les?","formControlName","previous_illness"],["type","text","placeholder","\xbfCu\xe1les?","formControlName","lesions"],[1,"elements_form",2,"margin-top","30px"],[1,"elements_form",3,"formGroup"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"label",3),e._uU(4,"Nombre de Usuario"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("change",function(){return n.verify(n.dataForm.value)}),e.qZA(),e.TgZ(6,"label",3),e._uU(7,"Nombre"),e.qZA(),e._UZ(8,"input",5),e.TgZ(9,"label",3),e._uU(10,"Apellido"),e.qZA(),e._UZ(11,"input",6),e.TgZ(12,"div",7)(13,"label",3),e._uU(14,"Padece de alguna enfermedad"),e.qZA(),e.TgZ(15,"input",8),e.NdJ("click",function(){return n.fnPad()}),e.qZA()(),e.TgZ(16,"p",9),e._uU(17,"Solo marcar si se tiene hipertensi\xf3n, diabetes, colesterol alto, problemas de ri\xf1\xf3n, anorexia, bulimia, diabetes, asma, hipo o hipertiroidismo, ovario poliqu\xedstico, problemas de ri\xf1\xf3n, s\xedndrome de colon irritable (tu plan debe ser 100% PERSONALIZADO)"),e.qZA(),e.YNc(18,T,1,0,"input",10),e.TgZ(19,"div",7)(20,"label",3),e._uU(21,"Lesiones"),e.qZA(),e.TgZ(22,"input",11),e.NdJ("click",function(){return n.fnLes()}),e.qZA()(),e.TgZ(23,"p",9),e._uU(24," Si no estas dado de alta por tu m\xe9dico o aun tienes dolor o alguna lesi\xf3n permanente, es recomendable hacer el plan PREMIUM (Personalizado)' "),e.qZA(),e.YNc(25,A,1,0,"input",12),e.qZA(),e.YNc(26,M,25,6,"div",13),e.TgZ(27,"button",14),e.NdJ("click",function(){return n.onSubmit()}),e._uU(28,"Enviar"),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("formGroup",n.dataForm),e.xp6(3),e.s9C("value",n.dataForm.value.user_name),e.xp6(10),e.Q6J("checked",n.id_pad),e.xp6(3),e.Q6J("ngIf",n.id_pad),e.xp6(4),e.Q6J("checked",n.id_les),e.xp6(3),e.Q6J("ngIf",1==n.id_les),e.xp6(1),e.Q6J("ngIf",n.partner))},dependencies:[o._Y,o.Fj,o.Wl,o.JJ,o.JL,o.sg,o.u,g.O5],styles:[".body[_ngcontent-%COMP%]{height:100vH;width:100Vw;background:linear-gradient(rgba(0,0,0,1),rgba(124,103,36,1) 26.47%,rgba(226,212,165,1) 63.03%,rgba(213,188,106,1))!important;padding:100px}.form[_ngcontent-%COMP%]{box-shadow:0 -13px 30px -13px #fdb931;height:80vH;max-width:500px;background-color:#000;margin:0 auto;overflow:hidden;color:#fff;border-radius:10px;padding:20px;overflow:scroll}.elements_form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.elements_form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;margin:15px auto 10px;background-color:transparent;border:0px;border-bottom:1px solid gray;color:#fff}.elements_form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:auto}.send[_ngcontent-%COMP%]{background:#FDB931;color:#fff!important;bottom:0;width:80%;border-radius:10px;border:0px;margin:15px auto auto}.fila[_ngcontent-%COMP%]{width:80%;margin:auto;display:flex}.fila[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15%}.fila[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:85%}.leyenda[_ngcontent-%COMP%]{font-size:12px;color:#d2d2d2;width:80%;margin:auto}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:1}"]});const U=[{path:"",component:m}];class l{}l.\u0275fac=function(t){return new(t||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[f.Bz.forChild(U),f.Bz]});class d{}d.\u0275fac=function(t){return new(t||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[o.UX,g.ez,l]})}}]);