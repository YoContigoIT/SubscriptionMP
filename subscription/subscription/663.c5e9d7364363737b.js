"use strict";(self.webpackChunksubscriptionMP=self.webpackChunksubscriptionMP||[]).push([[663],{8663:(U,_,s)=>{s.r(_),s.d(_,{FormModule:()=>d});var g=s(6895),m=s(6881),u=s(5861),o=s(433),h=s(2340),b=s(5226),c=s.n(b),v=s(3905),C=s(9808),e=s(4650),x=s(8811),Z=s(2468);function F(a,n){1&a&&e._UZ(0,"input",15)}function y(a,n){1&a&&e._UZ(0,"input",16)}function T(a,n){1&a&&e._UZ(0,"input",15)}function A(a,n){1&a&&e._UZ(0,"input",16)}function I(a,n){if(1&a){const t=e.EpF();e.TgZ(0,"div",17)(1,"form",18)(2,"label",3),e._uU(3,"Nombre del 2do Usuario"),e.qZA(),e.TgZ(4,"input",4),e.NdJ("change",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.verify(i.dataForm2.value))}),e.qZA(),e.TgZ(5,"label",3),e._uU(6,"Nombre"),e.qZA(),e._UZ(7,"input",5),e.TgZ(8,"label",3),e._uU(9,"Apellido"),e.qZA(),e._UZ(10,"input",6),e.TgZ(11,"div",7)(12,"label",3),e._uU(13,"Padece de alguna enfermedad"),e.qZA(),e.TgZ(14,"input",8),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.fnPad())}),e.qZA()(),e.TgZ(15,"p",9),e._uU(16,"Solo marcar si se tiene hipertensi\xf3n, diabetes, colesterol alto, problemas de ri\xf1\xf3n, anorexia, bulimia, diabetes, asma, hipo o hipertiroidismo, ovario poliqu\xedstico, problemas de ri\xf1\xf3n, s\xedndrome de colon irritable (tu plan debe ser 100% PERSONALIZADO)"),e.qZA(),e.YNc(17,T,1,0,"input",10),e.TgZ(18,"div",7)(19,"label",3),e._uU(20,"Lesiones"),e.qZA(),e.TgZ(21,"input",11),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.fnLes())}),e.qZA()(),e.TgZ(22,"p",9),e._uU(23," Si no estas dado de alta por tu m\xe9dico o aun tienes dolor o alguna lesi\xf3n permanente, es recomendable hacer el plan PREMIUM (Personalizado)' "),e.qZA(),e.YNc(24,A,1,0,"input",12),e.qZA()()}if(2&a){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.dataForm2),e.xp6(3),e.s9C("value",t.dataForm2.value.user_name),e.xp6(10),e.Q6J("checked",t.id_pad),e.xp6(3),e.Q6J("ngIf",t.id_pad),e.xp6(4),e.Q6J("checked",t.id_les),e.xp6(3),e.Q6J("ngIf",1==t.id_les)}}class p{constructor(n,t,r,i,f){this.auth=n,this.data=t,this.formBuilder=r,this.activateRoute=i,this.router=f,this.paymentGatawayURI=h.N.paymentGatawayURI,this.id_les=!1,this.id_pad=!1,this.partner=!1,this.uid="",this.dataForm=this.formBuilder.group({user_name:["",o.kI.required],first_name:["",o.kI.required],last_name:["",o.kI.required],medical_conditions:[!1,o.kI.required],has_current_lesions:[!1,o.kI.required],previous_illness:["",o.kI.required],lesions:["",o.kI.required]}),this.dataForm2=this.formBuilder.group({user_name:["",o.kI.required],first_name:["",o.kI.required],last_name:["",o.kI.required],medical_conditions:[!1,o.kI.required],has_current_lesions:[!1,o.kI.required],previous_illness:["",o.kI.required],lesions:["",o.kI.required]})}ngOnInit(){var n=this;return(0,u.Z)(function*(){(yield(0,v.z)(n.activateRoute.params)).reload||n.router.navigate(["form?relod=1"]),n.auth.user.subscribe(function(){var r=(0,u.Z)(function*(i){n.uid=i.uid,n.user=yield(0,C.n)(n.data.getAccount(i?.uid)),"PREMIUM_PARTNERS"==n.user?.current_subscription&&(n.partner=!0)});return function(i){return r.apply(this,arguments)}}())})()}fnPad(){this.id_pad=0==this.id_pad,1==this.id_pad&&"BASIC"==this.user.current_subscription&&c().fire({title:"Es necesario obtener una suscripci\xf3n Premium",text:"\xbfGustas que la cambiemos?",icon:"warning",showDenyButton:!0,denyButtonColor:"green",denyButtonText:"Whatsapp",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, por favor!"}).then(n=>{n.isConfirmed?("BASIC"==this.user.current_subscription&&this.data.changePlan({uid:this.uid,plan:"PREMIUM"}).subscribe(function(){var r=(0,u.Z)(function*(i){});return function(i){return r.apply(this,arguments)}}()),c().fire("Cambiado!","Tu suscripci\xf3n ahora es premium.","success")):n.isDenied?window.open("https://api.whatsapp.com/send?phone="+h.N.WhatsAppPhone+'&text="Me gustar\xeda me atendieran pues cuento con padecimientos de salud"'):this.id_pad=!1})}fnLes(){this.id_les=0==this.id_les,1==this.id_les&&"BASIC"==this.user.current_subscription&&c().fire({title:"Es necesario obtener una suscripci\xf3n Premium",text:"\xbfGustas que la cambiemos?",icon:"warning",showDenyButton:!0,denyButtonText:"Whatsapp",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si, por favor!"}).then(n=>{n.isConfirmed?("BASIC"==this.user.current_subscription&&this.data.changePlan({uid:this.uid,plan:"PREMIUM"}).subscribe(function(){var r=(0,u.Z)(function*(i){});return function(i){return r.apply(this,arguments)}}()),c().fire("Cambiado!","Tu suscripci\xf3n ahora es premium.","success")):n.isDenied?window.open("https://api.whatsapp.com/send?phone="+h.N.WhatsAppPhone+'&text="Me gustar\xeda me atendieran pues cuento con padecimientos de salud"'):this.id_les=!1})}onSubmit(){var n=this;const t={uid:this.uid,users:[this.dataForm.value]};this.partner&&t.users.push(this.dataForm2.value),this.data.registerAccountUser(t).subscribe(function(){var r=(0,u.Z)(function*(i){"success"===i.status&&window.open(n.paymentGatawayURI+"/?uid="+t.uid,"_SELF")});return function(i){return r.apply(this,arguments)}}())}verify(n){var t=this;this.data.verifyUser(n.user_name).subscribe(function(){var i=(0,u.Z)(function*(f){1==f.username_in_use&&(t.dataForm.value.user_name="",c().fire({icon:"error",title:"Lo sentimos, el nombre de usuario ya esta en uso",text:"Favor de cambiar el nombre de usuario"}))});return function(f){return i.apply(this,arguments)}}())}}p.\u0275fac=function(n){return new(n||p)(e.Y36(x.zQ),e.Y36(Z.D),e.Y36(o.qu),e.Y36(m.gz),e.Y36(m.F0))},p.\u0275cmp=e.Xpm({type:p,selectors:[["app-form"]],decls:29,vars:7,consts:[[1,"body"],[1,"form"],["action","",1,"elements_form",3,"formGroup"],["for",""],["type","text","placeholder","Usuario","formControlName","user_name",3,"value","change"],["type","text","placeholder","Nombre","formControlName","first_name"],["type","text","placeholder","Apellido","formControlName","last_name"],[1,"fila"],["type","checkbox","name","","id","","formControlName","medical_conditions",3,"checked","click"],[1,"leyenda"],["type","text","placeholder","\xbfCu\xe1les?","formControlName","previous_illness",4,"ngIf"],["type","checkbox","name","","id","","formControlName","has_current_lesions",3,"checked","click"],["type","text","placeholder","\xbfCu\xe1les?","formControlName","lesions",4,"ngIf"],["class","elements_form","style","margin-top: 30px;",4,"ngIf"],["type","button",1,"send",2,"margin-left","50px",3,"click"],["type","text","placeholder","\xbfCu\xe1les?","formControlName","previous_illness"],["type","text","placeholder","\xbfCu\xe1les?","formControlName","lesions"],[1,"elements_form",2,"margin-top","30px"],[1,"elements_form",3,"formGroup"]],template:function(n,t){1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"form",2)(3,"label",3),e._uU(4,"Nombre de Usuario"),e.qZA(),e.TgZ(5,"input",4),e.NdJ("change",function(){return t.verify(t.dataForm.value)}),e.qZA(),e.TgZ(6,"label",3),e._uU(7,"Nombre"),e.qZA(),e._UZ(8,"input",5),e.TgZ(9,"label",3),e._uU(10,"Apellido"),e.qZA(),e._UZ(11,"input",6),e.TgZ(12,"div",7)(13,"label",3),e._uU(14,"Padece de alguna enfermedad"),e.qZA(),e.TgZ(15,"input",8),e.NdJ("click",function(){return t.fnPad()}),e.qZA()(),e.TgZ(16,"p",9),e._uU(17,"Solo marcar si se tiene hipertensi\xf3n, diabetes, colesterol alto, problemas de ri\xf1\xf3n, anorexia, bulimia, diabetes, asma, hipo o hipertiroidismo, ovario poliqu\xedstico, problemas de ri\xf1\xf3n, s\xedndrome de colon irritable (tu plan debe ser 100% PERSONALIZADO)"),e.qZA(),e.YNc(18,F,1,0,"input",10),e.TgZ(19,"div",7)(20,"label",3),e._uU(21,"Lesiones"),e.qZA(),e.TgZ(22,"input",11),e.NdJ("click",function(){return t.fnLes()}),e.qZA()(),e.TgZ(23,"p",9),e._uU(24," Si no estas dado de alta por tu m\xe9dico o aun tienes dolor o alguna lesi\xf3n permanente, es recomendable hacer el plan PREMIUM (Personalizado)' "),e.qZA(),e.YNc(25,y,1,0,"input",12),e.qZA(),e.YNc(26,I,25,6,"div",13),e.TgZ(27,"button",14),e.NdJ("click",function(){return t.onSubmit()}),e._uU(28,"Enviar"),e.qZA()()()),2&n&&(e.xp6(2),e.Q6J("formGroup",t.dataForm),e.xp6(3),e.s9C("value",t.dataForm.value.user_name),e.xp6(10),e.Q6J("checked",t.id_pad),e.xp6(3),e.Q6J("ngIf",t.id_pad),e.xp6(4),e.Q6J("checked",t.id_les),e.xp6(3),e.Q6J("ngIf",1==t.id_les),e.xp6(1),e.Q6J("ngIf",t.partner))},dependencies:[o._Y,o.Fj,o.Wl,o.JJ,o.JL,o.sg,o.u,g.O5],styles:[".body[_ngcontent-%COMP%]{height:100vH;width:100Vw;background:linear-gradient(rgba(0,0,0,1),rgba(124,103,36,1) 26.47%,rgba(226,212,165,1) 63.03%,rgba(213,188,106,1))!important;padding:100px}.form[_ngcontent-%COMP%]{box-shadow:0 -13px 30px -13px #fdb931;height:80vH;max-width:500px;background-color:#000;margin:0 auto;overflow:hidden;color:#fff;border-radius:10px;padding:20px;overflow:scroll}.elements_form[_ngcontent-%COMP%]{display:flex;flex-direction:column}.elements_form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:80%;margin:15px auto 10px;background-color:transparent;border:0px;border-bottom:1px solid gray;color:#fff}.elements_form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{margin:auto}.send[_ngcontent-%COMP%]{background:#FDB931;color:#fff!important;bottom:0;width:80%;border-radius:10px;border:0px;margin:15px auto auto}.fila[_ngcontent-%COMP%]{width:80%;margin:auto;display:flex}.fila[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:15%}.fila[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{width:85%}.leyenda[_ngcontent-%COMP%]{font-size:12px;color:#d2d2d2;width:80%;margin:auto}"]});const P=[{path:"",component:p}];class l{}l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[m.Bz.forChild(P),m.Bz]});class d{}d.\u0275fac=function(n){return new(n||d)},d.\u0275mod=e.oAB({type:d}),d.\u0275inj=e.cJS({imports:[o.UX,g.ez,l]})}}]);